<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">
  <nz-form-item>
    <nz-form-label [nzSpan]="7" [nzRequired]="true">机器序列号</nz-form-label>
    <nz-form-control [nzSpan]="12" [nzHasFeedback]="true">
      <input nz-input formControlName="serial" placeholder="请输入序列号">
      <nz-form-explain
        *ngIf="validateForm.get('serial').dirty && validateForm.get('serial').errors || validateForm.get('serial').pending ">
        <ng-container *ngIf="validateForm.get('serial').hasError('required')">
          请输入序列号！
        </ng-container>
      </nz-form-explain>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7">地址</nz-form-label>
    <nz-form-control [nzSpan]="12">
      <input nz-input [formControlName]="'location'" placeholder="请输入所在地址">
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" [nzRequired]="true">负责人</nz-form-label>
    <nz-form-control [nzSpan]="12">
      <nz-select [formControlName]="'master'" [nzShowSearch]="true" [nzServerSearch]="true" (nzOnSearch)="onMasterSearch($event)">
        <ng-container *ngFor="let o of users">
          <nz-option *ngIf="!isMasterLoading" [nzValue]="o.id" [nzLabel]="o.name"></nz-option>
        </ng-container>
        <nz-option *ngIf="isMasterLoading" [nzDisabled]="true" [nzCustomContent]="false">
          <i class="anticon anticon-loading anticon-spin loading-icon"></i> Loading...
        </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" [nzRequired]="true">所属商户</nz-form-label>
    <nz-form-control [nzSpan]="12">
      <nz-select [formControlName]="'merchant'" [nzShowSearch]="true" [nzServerSearch]="true" (nzOnSearch)="onMerchantSearch($event)">
        <ng-container *ngFor="let o of merchants">
          <nz-option *ngIf="!isMerchantLoading" [nzValue]="o.id" [nzLabel]="o.name"></nz-option>
        </ng-container>
        <nz-option *ngIf="isMerchantLoading" [nzDisabled]="true" [nzCustomContent]="false">
          <i class="anticon anticon-loading anticon-spin loading-icon"></i> Loading...
        </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-control [nzOffset]="7" [nzSpan]="12">
      <button nz-button (click)="resetForm($event)">重置</button>
      <button nz-button [nzType]="'primary'" [disabled]="!validateForm.valid">确认</button>
    </nz-form-control>
  </nz-form-item>
</form>
