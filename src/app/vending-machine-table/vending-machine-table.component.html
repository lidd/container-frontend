<div style="margin-bottom: 16px;">
  <button nz-button [nzType]="'primary'" (click)="addMachineModal()">
    新增售货机
  </button>
</div>
<nz-table [nzData]="machineList" [nzBordered]="true">
  <thead>
  <tr>
    <th>序号</th>
    <th>地点</th>
    <th>温度</th>
    <th>湿度</th>
    <th>状态</th>
    <th>总仓位</th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let machine of machineList">
    <td>
      {{machine.serial}}
    </td>
    <td>
      {{machine.location}}
    </td>
    <td>
      {{machine.temperature * 0.1|number:'1.1-1'}}
    </td>
    <td>
      {{machine.humidity * 0.1|number:'1.1-1'}}
    </td>
    <td [ngSwitch]="machine.status">
      <div *ngSwitchCase="1000">
        在线
      </div>
      <div *ngSwitchCase="9999">
        离线
      </div>
      <div *ngSwitchDefault>
        故障({{machine.status}})
      </div>
    </td>
    <td>
      {{machine.capacity}}
    </td>
    <td>
      <a (click)="editMachine(machine)">编辑</a>
      <span *ngIf="isAdmin">
          <nz-divider [nzType]="'vertical'"></nz-divider>
          <a (click)="deleteMachine(machine)">删除</a>
        </span>
    </td>
  </tr>
  </tbody>
</nz-table>
